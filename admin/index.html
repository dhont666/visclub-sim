html
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Dashboard - Visclub SiM</title>
<link rel="icon" type="image/x-icon" href="favicon.ico">
<link rel="stylesheet" href="admin-style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<!-- Load config FIRST -->
<script src="config.js"></script>
<script src="data-api.js"></script>
<script src="admin-auth.js"></script>
</head>
<!DOCTYPE html><html lang="nl"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Admin Dashboard - Visclub SiM</title><link rel="icon" type="image/x-icon" href="favicon.ico"><link rel="stylesheet" href="admin-style.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"></head><body><div id="adminDashboard" class="admin-dashboard"><aside class="sidebar"><div class="sidebar-header"><i class="fas fa-fish"></i><span>Visclub SiM</span></div><nav class="sidebar-nav"><a href="index.html" class="nav-item active"><i class="fas fa-chart-line"></i><span>Overzicht</span></a><a href="inschrijvingen.html" class="nav-item"><i class="fas fa-clipboard-list"></i><span>Inschrijvingen</span><span class="badge" id="pendingRegistrationsBadge">0</span></a><a href="contact-berichten.html" class="nav-item"><i class="fas fa-envelope"></i><span>Contact Berichten</span><span class="badge" id="unreadContactBadge">0</span></a><a href="vergunningen.html" class="nav-item"><i class="fas fa-file-contract"></i><span>Vergunningen</span><span class="badge warning" id="pendingPermitsBadge">0</span></a><a href="plaatsentrekking.html" class="nav-item"><i class="fas fa-random"></i><span>Plaatsentrekking</span></a><a href="klassement-beheer.html" class="nav-item"><i class="fas fa-trophy"></i><span>Klassement</span></a><a href="admin-chat.html" class="nav-item"><i class="fas fa-comments"></i><span>Admin Chat</span><span class="badge" id="unreadChatBadge" style="display: none;">0</span></a><a href="leden.html" class="nav-item"><i class="fas fa-users"></i><span>Leden Beheer</span></a><a href="../home.html" class="nav-item" target="_blank"><i class="fas fa-home"></i><span>Website Bekijken</span></a><a href="settings.html" class="nav-item"><i class="fas fa-cog"></i><span>Instellingen</span></a></nav><div class="sidebar-footer"><button class="btn-logout" onclick="adminLogout()"><i class="fas fa-sign-out-alt"></i><span>Uitloggen</span></button></div></aside><main class="main-content"><header class="content-header"><div class="header-left"><h1 id="pageTitle">Overzicht</h1><p id="pageSubtitle">Dashboard statistieken en recente activiteit</p></div><div class="header-right"><div class="search-box"><i class="fas fa-search"></i><input type="text" placeholder="Zoeken..."></div><div class="user-info"><i class="fas fa-user-circle"></i><div style="display: flex; flex-direction: column; align-items: flex-start;"><span id="adminName" style="font-weight: 600;">Admin</span><small id="adminRole" style="opacity: 0.7; font-size: 11px;">Admin</small></div></div></div></header><div class="content-body"><section id="section-overview" class="dashboard-section active"><div class="stats-grid"><div class="stat-card blue"><div class="stat-icon"><i class="fas fa-users"></i></div><div class="stat-info"><h3>45</h3><p>Totaal Inschrijvingen</p><small class="trend up"><i class="fas fa-arrow-up"></i> +12% deze week
</small></div></div><div class="stat-card green"><div class="stat-icon"><i class="fas fa-check-circle"></i></div><div class="stat-info"><h3>38</h3><p>Betalingen Ontvangen</p><small class="trend up"><i class="fas fa-arrow-up"></i> ‚Ç¨380,00
</small></div></div><div class="stat-card orange"><div class="stat-icon"><i class="fas fa-clock"></i></div><div class="stat-info"><h3>7</h3><p>Openstaand</p><small class="trend"><i class="fas fa-minus"></i> ‚Ç¨70,00
</small></div></div><div class="stat-card purple"><div class="stat-icon"><i class="fas fa-calendar-check"></i></div><div class="stat-info"><h3>3</h3><p>Aankomende Wedstrijden</p><small class="trend"><i class="fas fa-info-circle"></i> Volgende week
</small></div></div></div><div class="charts-grid"><div class="chart-card"><div class="card-header"><h3><i class="fas fa-chart-line"></i> Inschrijvingen per Maand</h3><select class="chart-filter"><option>2026</option><option>2025</option></select></div><div class="chart-placeholder"><canvas id="registrationsChart"></canvas></div></div><div class="activity-card"><div class="card-header"><h3><i class="fas fa-history"></i> Recente Activiteit</h3></div><div class="activity-list" id="recentActivityList"><div style="text-align: center; padding: 40px 20px; color: #999;"><i class="fas fa-history" style="font-size: 48px; margin-bottom: 15px; opacity: 0.3;"></i><p>Nog geen recente activiteit</p></div></div></div></div><div class="quick-actions"><h3><i class="fas fa-bolt"></i> Snelle Acties</h3><div class="actions-grid"><button class="action-btn" onclick="switchSection('registrations')"><i class="fas fa-user-plus"></i><span>Nieuwe Inschrijving</span></button><button class="action-btn" onclick="window.location.href='weging.html'"><i class="fas fa-weight"></i><span>Wegen</span></button><button class="action-btn" onclick="switchSection('emails')"><i class="fas fa-paper-plane"></i><span>Stuur Email</span></button></div></div></section><section id="section-registrations" class="dashboard-section"><div class="section-toolbar"><div class="toolbar-left"><button class="btn btn-primary" onclick="showNewRegistration()"><i class="fas fa-plus"></i> Nieuwe Inschrijving
</button><button class="btn btn-secondary" onclick="exportRegistrations()"><i class="fas fa-download"></i> Exporteer
</button></div><div class="toolbar-right"><select id="competitionFilter" class="filter-select"><option value="all">Alle Wedstrijden</option><option value="upcoming">Aankomend</option><option value="past">Afgelopen</option></select><select id="statusFilter" class="filter-select"><option value="all">Alle Statussen</option><option value="paid">Betaald</option><option value="pending">Openstaand</option></select></div></div><div class="data-table"><table><thead><tr><th><input type="checkbox" id="selectAll"></th><th>ID</th><th>Naam</th><th>Email</th><th>Wedstrijd</th><th>Type</th><th>Betaling</th><th>Datum</th><th>Acties</th></tr></thead><tbody id="registrationsTable"></tbody></table></div><div class="table-pagination"><div class="pagination-info">
Toon 1-10 van 45 resultaten
</div><div class="pagination-controls"><button class="btn-page" disabled><i class="fas fa-chevron-left"></i></button><button class="btn-page active">1</button><button class="btn-page">2</button><button class="btn-page">3</button><button class="btn-page"><i class="fas fa-chevron-right"></i></button></div></div></section><section id="section-payments" class="dashboard-section"><div class="payments-stats"><div class="payment-stat"><i class="fas fa-check-circle"></i><div><h4>‚Ç¨380,00</h4><p>Ontvangen</p></div></div><div class="payment-stat"><i class="fas fa-clock"></i><div><h4>‚Ç¨70,00</h4><p>Openstaand</p></div></div><div class="payment-stat"><i class="fas fa-chart-pie"></i><div><h4>84%</h4><p>Betaalratio</p></div></div></div><div class="data-table"><table><thead><tr><th>Referentie</th><th>Naam</th><th>Wedstrijd</th><th>Bedrag</th><th>Status</th><th>Datum</th><th>Acties</th></tr></thead><tbody id="paymentsTable"></tbody></table></div></section><section id="section-competitions" class="dashboard-section"><div class="section-toolbar"><button class="btn btn-primary" onclick="addCompetition()"><i class="fas fa-plus"></i> Nieuwe Wedstrijd
</button><button class="btn btn-secondary" onclick="importCalendar()"><i class="fas fa-upload"></i> Importeer Kalender
</button></div><div class="competitions-grid" id="competitionsGrid"></div></section><section id="section-draw" class="dashboard-section"><div class="draw-interface"><div class="draw-setup"><h3>Plaatsentrekking Configureren</h3><div class="form-group"><label>Selecteer Wedstrijd</label><select id="drawCompetition" class="form-control"><option>07-03-2026 - Vrije Gewone</option><option>14-03-2026 - Vrije Koppel</option></select></div><div class="draw-stats"><div class="draw-stat-item"><strong>12</strong><span>Deelnemers</span></div><div class="draw-stat-item"><strong>43</strong><span>Beschikbare Plaatsen</span></div></div><button class="btn btn-primary btn-large" onclick="startAdminDraw()"><i class="fas fa-random"></i> Start Automatische Trekking
</button></div><div class="draw-results" id="drawResults" style="display: none;"></div></div></section><section id="section-members" class="dashboard-section"><div class="section-toolbar"><button class="btn btn-primary" onclick="addMember()"><i class="fas fa-user-plus"></i> Nieuw Lid
</button><button class="btn btn-secondary" onclick="exportMembers()"><i class="fas fa-download"></i> Exporteer Leden
</button></div><div class="data-table"><table><thead><tr><th>Lidnr.</th><th>Naam</th><th>Email</th><th>Telefoon</th><th>Type</th><th>Geldig tot</th><th>Acties</th></tr></thead><tbody id="membersTable"></tbody></table></div></section><section id="section-permits" class="dashboard-section"><div class="section-toolbar"><button class="btn btn-primary" onclick="addPermit()"><i class="fas fa-plus"></i> Nieuwe Vergunning
</button><button class="btn btn-secondary" onclick="exportPermits()"><i class="fas fa-download"></i> Exporteer Vergunningen
</button></div><div class="stats-grid" style="margin-bottom: 30px;"><div class="stat-card blue"><div class="stat-icon"><i class="fas fa-file-contract"></i></div><div class="stat-details"><h3 id="permits-total">0</h3><p>Totaal Aanvragen</p></div></div><div class="stat-card orange"><div class="stat-icon"><i class="fas fa-hourglass-half"></i></div><div class="stat-details"><h3 id="permits-pending">0</h3><p>In Behandeling</p></div></div><div class="stat-card green"><div class="stat-icon"><i class="fas fa-check-circle"></i></div><div class="stat-details"><h3 id="permits-approved">0</h3><p>Goedgekeurd</p></div></div></div><div class="info-box" style="margin-bottom: 20px; padding: 20px; background: #e7f3ff; border-radius: 8px; border-left: 4px solid #0066cc;"><h4 style="margin-bottom: 15px; color: #0066cc;"><i class="fas fa-info-circle"></i> Vergunning Types & Prijzen</h4><div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;"><div style="background: white; padding: 15px; border-radius: 6px;"><strong style="color: #2c5f7d;">üé£ Jaarvergunning</strong><p style="margin: 5px 0 0 0; font-size: 14px; color: #666;">‚Ç¨75,00 - Vrij vissen op 3 vijvers</p></div><div style="background: white; padding: 15px; border-radius: 6px;"><strong style="color: #2c5f7d;">üèÜ Wedstrijdvisser</strong><p style="margin: 5px 0 0 0; font-size: 14px; color: #666;">‚Ç¨60,00 - Deelname alle wedstrijden</p></div><div style="background: white; padding: 15px; border-radius: 6px;"><strong style="color: #2c5f7d;">üë¶ Jeugd (-16 jaar)</strong><p style="margin: 5px 0 0 0; font-size: 14px; color: #666;">50% korting (‚Ç¨37,50 / ‚Ç¨30,00)</p></div></div></div><div class="data-table"><table><thead><tr><th>#</th><th>Naam</th><th>Email</th><th>Type</th><th>Jeugd</th><th>Bedrag</th><th>Status</th><th>Aangevraagd</th><th>Acties</th></tr></thead><tbody id="permitsTable"></tbody></table></div></section><section id="section-emails" class="dashboard-section"><div class="email-composer"><h3><i class="fas fa-paper-plane"></i> Email Versturen</h3><form id="emailForm"><div class="form-group"><label>Ontvangers</label><select class="form-control" multiple><option>Alle leden</option><option>Ingeschreven deelnemers (07-03-2026)</option><option>Openstaande betalingen</option><option>Custom selectie...</option></select></div><div class="form-group"><label>Onderwerp</label><input type="text" class="form-control" placeholder="Email onderwerp"></div><div class="form-group"><label>Bericht</label><textarea class="form-control" rows="10" placeholder="Email inhoud..."></textarea></div><div class="form-actions"><button type="submit" class="btn btn-primary"><i class="fas fa-paper-plane"></i> Verstuur
</button><button type="button" class="btn btn-secondary"><i class="fas fa-save"></i> Opslaan als Concept
</button></div></form></div><div class="email-templates"><h4>Email Templates</h4><div class="templates-list"><div class="template-item"><i class="fas fa-envelope"></i><span>Bevestiging Inschrijving</span><button class="btn-small">Gebruik</button></div><div class="template-item"><i class="fas fa-bell"></i><span>Reminder Wedstrijd</span><button class="btn-small">Gebruik</button></div><div class="template-item"><i class="fas fa-exclamation-circle"></i><span>Betaling Herinnering</span><button class="btn-small">Gebruik</button></div></div></div></section><section id="section-bot" class="dashboard-section"><div class="bot-admin-container"><div class="bot-header-card"><div class="bot-header-content"><div class="bot-icon-large"><i class="fas fa-robot"></i></div><div><h2>üêü Vis Advies Bot</h2><p>AI-gestuurde bot die bezoekers helpt met vis advies, weer tips en aas keuze</p></div></div><div class="bot-status-toggle"><label class="toggle-switch"><input type="checkbox" id="botEnabled" checked><span class="toggle-slider"></span></label><span class="toggle-label">Bot Actief</span></div></div><div class="bot-stats-grid"><div class="bot-stat-card"><div class="stat-icon blue"><i class="fas fa-comments"></i></div><div class="stat-details"><h3>156</h3><p>Totaal Conversaties</p><small>Laatste 30 dagen</small></div></div><div class="bot-stat-card"><div class="stat-icon green"><i class="fas fa-users"></i></div><div class="stat-details"><h3>89</h3><p>Unieke Bezoekers</p><small>Deze maand</small></div></div><div class="bot-stat-card"><div class="stat-icon orange"><i class="fas fa-question-circle"></i></div><div class="stat-details"><h3>342</h3><p>Vragen Beantwoord</p><small>Totaal</small></div></div><div class="bot-stat-card"><div class="stat-icon purple"><i class="fas fa-star"></i></div><div class="stat-details"><h3>4.8</h3><p>Gebruikers Score</p><small>Van 5 sterren</small></div></div></div><div class="bot-content-grid"><div class="bot-card"><h3><i class="fas fa-fire"></i> Populaire Vragen</h3><div class="popular-questions"><div class="question-item"><span class="question-rank">1</span><div class="question-content"><strong>Wat zijn de beste weersomstandigheden?</strong><small>45 keer gevraagd</small></div></div><div class="question-item"><span class="question-rank">2</span><div class="question-content"><strong>Welk aas voor karper?</strong><small>38 keer gevraagd</small></div></div><div class="question-item"><span class="question-rank">3</span><div class="question-content"><strong>Beste seizoen om te vissen?</strong><small>32 keer gevraagd</small></div></div><div class="question-item"><span class="question-rank">4</span><div class="question-content"><strong>Luchtdruk invloed?</strong><small>28 keer gevraagd</small></div></div><div class="question-item"><span class="question-rank">5</span><div class="question-content"><strong>Aas voor snoekbaars?</strong><small>25 keer gevraagd</small></div></div></div></div><div class="bot-card"><h3><i class="fas fa-cog"></i> Bot Configuratie</h3><div class="bot-config-form"><div class="config-item"><label>Bot Naam</label><input type="text" class="form-control" value="Vis Advies Bot"></div><div class="config-item"><label>Welkomstbericht</label><textarea class="form-control" rows="3">Welkom! Ik help je met advies over vistijden, aas en weersomstandigheden.</textarea></div><div class="config-item"><label>Auto-respons snelheid (ms)</label><input type="number" class="form-control" value="800"><small>Simuleer menselijke typsnelheid</small></div><div class="config-toggle"><label><input type="checkbox" checked><span>Toon typing indicator</span></label></div><div class="config-toggle"><label><input type="checkbox" checked><span>Quick reply suggesties</span></label></div><div class="config-toggle"><label><input type="checkbox" checked><span>Welkomstscherm tonen</span></label></div><button class="btn btn-primary"><i class="fas fa-save"></i> Opslaan
</button></div></div></div><div class="bot-test-area"><h3><i class="fas fa-vial"></i> Test de Bot</h3><p>Test hier de bot responses voordat ze live gaan</p><div class="bot-test-interface"><div class="test-questions"><h4>Test Vragen:</h4><button class="test-question-btn" onclick="testBotQuestion('Wat zijn de beste weersomstandigheden?')">
Weer advies
</button><button class="test-question-btn" onclick="testBotQuestion('Welk aas voor karper?')">
Karper aas
</button><button class="test-question-btn" onclick="testBotQuestion('Beste seizoen?')">
Seizoen tips
</button><button class="test-question-btn" onclick="testBotQuestion('Luchtdruk invloed?')">
Luchtdruk
</button></div><div class="test-response-area" id="testResponseArea"><p class="test-placeholder">Klik op een test vraag om de bot response te zien...</p></div></div></div><div class="bot-analytics"><h3><i class="fas fa-chart-bar"></i> Analytics</h3><div class="analytics-grid"><div class="analytics-chart"><h4>Conversaties per dag (laatste week)</h4><div class="simple-chart"><div class="chart-bar" style="height: 60%;" data-value="12"><span>Ma</span></div><div class="chart-bar" style="height: 80%;" data-value="16"><span>Di</span></div><div class="chart-bar" style="height: 45%;" data-value="9"><span>Wo</span></div><div class="chart-bar" style="height: 90%;" data-value="18"><span>Do</span></div><div class="chart-bar" style="height: 70%;" data-value="14"><span>Vr</span></div><div class="chart-bar" style="height: 100%;" data-value="20"><span>Za</span></div><div class="chart-bar" style="height: 85%;" data-value="17"><span>Zo</span></div></div></div><div class="analytics-topics"><h4>Meest gevraagde onderwerpen</h4><div class="topic-list"><div class="topic-item"><span class="topic-name">Weersomstandigheden</span><div class="topic-bar"><div class="topic-fill" style="width: 85%"></div></div><span class="topic-percent">85%</span></div><div class="topic-item"><span class="topic-name">Aas keuze</span><div class="topic-bar"><div class="topic-fill" style="width: 72%"></div></div><span class="topic-percent">72%</span></div><div class="topic-item"><span class="topic-name">Seizoen tips</span><div class="topic-bar"><div class="topic-fill" style="width: 68%"></div></div><span class="topic-percent">68%</span></div><div class="topic-item"><span class="topic-name">Karper vissen</span><div class="topic-bar"><div class="topic-fill" style="width: 55%"></div></div><span class="topic-percent">55%</span></div><div class="topic-item"><span class="topic-name">Snoekbaars</span><div class="topic-bar"><div class="topic-fill" style="width: 42%"></div></div><span class="topic-percent">42%</span></div></div></div></div></div></div></section><section id="section-settings" class="dashboard-section"><div class="settings-grid"><div class="settings-card"><h3><i class="fas fa-cog"></i> Algemene Instellingen</h3><div class="form-group"><label>Clubnaam</label><input type="text" class="form-control" value="Visclub SiM"></div><div class="form-group"><label>Email</label><input type="email" class="form-control" value="SimVisclub@gmail.com"></div><div class="form-group"><label>Rekeningnummer (IBAN)</label><input type="text" class="form-control" value="BE05 9731 3241 8875"></div><div class="form-group"><label>Inschrijf termijn (uren van tevoren)</label><input type="number" class="form-control" value="24"><small style="color: #666; font-size: 12px;">Standaard: 24 uur voor aanvang</small></div><button class="btn btn-primary"><i class="fas fa-save"></i> Opslaan
</button></div><div class="settings-card"><h3><i class="fas fa-euro-sign"></i> Prijzen</h3><div class="price-settings"><div class="price-item"><label>Vrije Gewone Wedstrijd</label><input type="text" class="form-control" value="‚Ç¨10,00"></div><div class="price-item"><label>Vrije Koppelwedstrijd</label><input type="text" class="form-control" value="‚Ç¨20,00"></div><div class="price-item"><label>Nachtkoppelwedstrijd</label><input type="text" class="form-control" value="‚Ç¨30,00"></div><div class="price-item"><label>Clubwedstrijd</label><input type="text" class="form-control" value="‚Ç¨10,00"></div><div class="price-item"><label>Avondwedstrijd</label><input type="text" class="form-control" value="‚Ç¨10,00"></div></div><button class="btn btn-primary"><i class="fas fa-save"></i> Opslaan
</button></div><div class="settings-card"><h3><i class="fas fa-bell"></i> Notificaties</h3><div class="toggle-setting"><label><input type="checkbox" checked><span>Email bevestiging bij inschrijving</span></label></div><div class="toggle-setting"><label><input type="checkbox" checked><span>Reminder 7 dagen voor wedstrijd</span></label></div><div class="toggle-setting"><label><input type="checkbox" checked><span>Betalingsherinnering</span></label></div><div class="toggle-setting"><label><input type="checkbox"><span>Social media automatisch posten</span></label></div></div><div class="settings-card"><h3><i class="fas fa-shield-alt"></i> Beveiliging & Data</h3><div class="form-group"><label>Wachtwoord wijzigen</label><input type="password" class="form-control" placeholder="Nieuw wachtwoord"></div><div class="form-group"><input type="password" class="form-control" placeholder="Bevestig wachtwoord"></div><button class="btn btn-primary"><i class="fas fa-key"></i> Wijzig Wachtwoord
</button><hr><button class="btn btn-danger"><i class="fas fa-database"></i> Backup Database
</button><button class="btn btn-secondary" onclick="exportData()" style="margin-left: 10px;"><i class="fas fa-download"></i> Exporteer Data
</button><button class="btn btn-primary" onclick="downloadAllData()" style="margin-left: 10px;"><i class="fas fa-file-download"></i> Download Alle Data
</button></div></div></section></div></main></div>
<script src="../script.js"></script>
<script src="admin-auth.js"></script>
<script src="data-api.js"></script>
<script>
        window.addEventListener('load', () => {
            if (adminAuth.currentUser) {
                adminAuth.updateUserDisplay();
            }
            if (window.calendarData) {
                console.log('‚úÖ CalendarData geladen:', window.calendarData.length, 'events');
            } else {
                console.error('‚ùå CalendarData NIET geladen!');
            }
        });
    </script>
<script src="admin-script.js"></script>
</body></html>